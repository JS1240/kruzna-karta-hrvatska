/**
 * Fallback Animation Styles (T5.2)
 * 
 * Provides CSS-based animations for low-performance devices
 * that cannot handle WebGL animations efficiently.
 * 
 * Features:
 * - Particle-style animations using CSS transforms
 * - Gradient-based flowing animations
 * - Static pattern backgrounds
 * - Brand-consistent color schemes
 * - Performance-optimized CSS properties
 * - Reduced motion support
 */

/* ==========================================================================
   Base Fallback Container Styles
   ========================================================================== */

.fallback-animation-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: transparent;
}

.fallback-animation-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

/* ==========================================================================
   CSS Particle Animations
   ========================================================================== */

.fallback-particle {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  will-change: transform, opacity;
  /* Enable hardware acceleration */
  transform: translate3d(0, 0, 0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.fallback-particle--small {
  width: 2px;
  height: 2px;
}

.fallback-particle--medium {
  width: 4px;
  height: 4px;
}

.fallback-particle--large {
  width: 6px;
  height: 6px;
}

/* Particle Animation Keyframes */
@keyframes fallback-particle-float-1 {
  0% { 
    transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    opacity: 0.3;
  }
  25% { 
    transform: translate3d(15px, -20px, 0) rotate(90deg) scale(0.8);
    opacity: 0.6;
  }
  50% { 
    transform: translate3d(-10px, -35px, 0) rotate(180deg) scale(1.1);
    opacity: 0.4;
  }
  75% { 
    transform: translate3d(-25px, -15px, 0) rotate(270deg) scale(0.9);
    opacity: 0.7;
  }
  100% { 
    transform: translate3d(0, 0, 0) rotate(360deg) scale(1);
    opacity: 0.3;
  }
}

@keyframes fallback-particle-float-2 {
  0% { 
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.2;
  }
  33% { 
    transform: translate3d(25px, 15px, 0) scale(0.7);
    opacity: 0.8;
  }
  66% { 
    transform: translate3d(-15px, 30px, 0) scale(1.3);
    opacity: 0.3;
  }
  100% { 
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.2;
  }
}

@keyframes fallback-particle-float-3 {
  0% { 
    transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg);
    opacity: 0.4;
  }
  25% { 
    transform: translate3d(-20px, 10px, 0) rotateX(90deg) rotateY(45deg);
    opacity: 0.6;
  }
  50% { 
    transform: translate3d(10px, -25px, 0) rotateX(180deg) rotateY(90deg);
    opacity: 0.3;
  }
  75% { 
    transform: translate3d(30px, 20px, 0) rotateX(270deg) rotateY(135deg);
    opacity: 0.7;
  }
  100% { 
    transform: translate3d(0, 0, 0) rotateX(360deg) rotateY(180deg);
    opacity: 0.4;
  }
}

@keyframes fallback-particle-orbit {
  0% { 
    transform: translate3d(0, 0, 0) rotate(0deg);
  }
  100% { 
    transform: translate3d(0, 0, 0) rotate(360deg);
  }
}

@keyframes fallback-particle-pulse {
  0% { 
    transform: scale(1);
    opacity: 0.3;
  }
  50% { 
    transform: scale(1.5);
    opacity: 0.8;
  }
  100% { 
    transform: scale(1);
    opacity: 0.3;
  }
}

/* Particle Animation Classes */
.fallback-particle--animation-1 {
  animation: fallback-particle-float-1 var(--particle-duration, 12s) ease-in-out var(--particle-delay, 0s) infinite;
}

.fallback-particle--animation-2 {
  animation: fallback-particle-float-2 var(--particle-duration, 15s) ease-in-out var(--particle-delay, 0s) infinite;
}

.fallback-particle--animation-3 {
  animation: fallback-particle-float-3 var(--particle-duration, 18s) ease-in-out var(--particle-delay, 0s) infinite;
}

.fallback-particle--orbit {
  animation: fallback-particle-orbit var(--particle-duration, 20s) linear var(--particle-delay, 0s) infinite;
}

.fallback-particle--pulse {
  animation: fallback-particle-pulse var(--particle-duration, 8s) ease-in-out var(--particle-delay, 0s) infinite;
}

/* ==========================================================================
   Gradient Background Animations
   ========================================================================== */

.fallback-gradient-animation {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  will-change: transform;
  transition: opacity 0.5s ease;
}

/* Gradient Animation Keyframes */
@keyframes fallback-gradient-flow {
  0% { 
    transform: translate3d(-10%, -10%, 0) scale(1.2) rotate(0deg);
  }
  25% { 
    transform: translate3d(5%, -5%, 0) scale(1.15) rotate(2deg);
  }
  50% { 
    transform: translate3d(10%, 10%, 0) scale(1.1) rotate(0deg);
  }
  75% { 
    transform: translate3d(-5%, 5%, 0) scale(1.15) rotate(-2deg);
  }
  100% { 
    transform: translate3d(-10%, -10%, 0) scale(1.2) rotate(0deg);
  }
}

@keyframes fallback-gradient-shift {
  0% { 
    transform: translate3d(-5%, -5%, 0) scale(1.1);
    filter: hue-rotate(0deg);
  }
  50% { 
    transform: translate3d(5%, 5%, 0) scale(1.05);
    filter: hue-rotate(10deg);
  }
  100% { 
    transform: translate3d(-5%, -5%, 0) scale(1.1);
    filter: hue-rotate(0deg);
  }
}

@keyframes fallback-gradient-wave {
  0% { 
    background-position: 0% 50%;
  }
  50% { 
    background-position: 100% 50%;
  }
  100% { 
    background-position: 0% 50%;
  }
}

/* Gradient Animation Classes */
.fallback-gradient--flow {
  animation: fallback-gradient-flow 20s ease-in-out infinite;
}

.fallback-gradient--shift {
  animation: fallback-gradient-shift 15s ease-in-out infinite alternate;
}

.fallback-gradient--wave {
  background-size: 400% 400%;
  animation: fallback-gradient-wave 12s ease infinite;
}

/* ==========================================================================
   Static Pattern Backgrounds
   ========================================================================== */

.fallback-static-pattern {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

/* Geometric Patterns */
.fallback-pattern--geometric-dots {
  background-image: 
    radial-gradient(circle at 25% 25%, var(--pattern-color-1, #3674B5) 2px, transparent 2px),
    radial-gradient(circle at 75% 75%, var(--pattern-color-2, #578FCA) 1px, transparent 1px);
  background-size: 40px 40px, 20px 20px;
  background-position: 0 0, 10px 10px;
}

.fallback-pattern--geometric-grid {
  background-image: 
    linear-gradient(var(--pattern-color-1, #3674B5) 1px, transparent 1px),
    linear-gradient(90deg, var(--pattern-color-1, #3674B5) 1px, transparent 1px);
  background-size: 30px 30px;
  opacity: 0.1;
}

.fallback-pattern--geometric-triangles {
  background-image: 
    linear-gradient(45deg, var(--pattern-color-1, #3674B5) 25%, transparent 25%),
    linear-gradient(-45deg, var(--pattern-color-2, #578FCA) 25%, transparent 25%);
  background-size: 40px 40px;
  background-position: 0 0, 20px 20px;
}

/* Brand Patterns */
.fallback-pattern--brand-waves {
  background: 
    radial-gradient(ellipse at center top, var(--pattern-color-1, #3674B5) 0%, transparent 70%),
    radial-gradient(ellipse at center bottom, var(--pattern-color-2, #578FCA) 0%, transparent 70%),
    linear-gradient(135deg, var(--pattern-color-1, #3674B5) 0%, transparent 50%, var(--pattern-color-2, #578FCA) 100%);
}

.fallback-pattern--brand-flowing {
  background: 
    linear-gradient(135deg, var(--pattern-color-1, #3674B5) 0%, transparent 30%),
    linear-gradient(225deg, var(--pattern-color-2, #578FCA) 0%, transparent 30%),
    radial-gradient(circle at 50% 50%, var(--pattern-color-1, #3674B5) 0%, transparent 50%);
  background-size: 100% 100%, 100% 100%, 60% 60%;
}

/* Solid Patterns */
.fallback-pattern--solid-gradient {
  background: linear-gradient(135deg, var(--pattern-color-1, #3674B5), var(--pattern-color-2, #578FCA));
}

.fallback-pattern--solid-radial {
  background: radial-gradient(ellipse at center, var(--pattern-color-1, #3674B5), var(--pattern-color-2, #578FCA));
}

/* ==========================================================================
   Performance Optimizations
   ========================================================================== */

/* Force hardware acceleration for better performance */
.fallback-animation-container,
.fallback-particle,
.fallback-gradient-animation,
.fallback-static-pattern {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-perspective: 1000px;
  perspective: 1000px;
}

/* Optimize for different device types */
@media (max-width: 768px) {
  /* Reduce animation complexity on mobile */
  .fallback-particle {
    animation-duration: 20s !important;
  }
  
  .fallback-gradient-animation {
    animation-duration: 25s !important;
  }
  
  /* Disable 3D transforms on mobile for better performance */
  .fallback-particle--animation-3 {
    animation-name: fallback-particle-float-1;
  }
}

@media (max-width: 480px) {
  /* Further reduce complexity on small mobile devices */
  .fallback-particle {
    animation-duration: 30s !important;
  }
  
  /* Simplify gradients */
  .fallback-gradient--flow {
    animation-name: fallback-gradient-shift;
  }
}

/* ==========================================================================
   Accessibility and Reduced Motion Support
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  /* Disable all animations for users who prefer reduced motion */
  .fallback-particle,
  .fallback-gradient-animation {
    animation: none !important;
  }
  
  /* Keep only subtle opacity changes */
  .fallback-particle {
    opacity: 0.3 !important;
  }
  
  .fallback-gradient-animation {
    transform: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .fallback-particle {
    opacity: 0.6 !important;
  }
  
  .fallback-static-pattern {
    opacity: 0.4 !important;
  }
}

/* ==========================================================================
   Color Theme Variations
   ========================================================================== */

/* Primary brand theme */
.fallback-theme--primary {
  --pattern-color-1: #3674B5;
  --pattern-color-2: #578FCA;
  --pattern-color-3: #F5F0CD;
  --pattern-color-4: #FADA7A;
}

/* Accent theme */
.fallback-theme--accent {
  --pattern-color-1: #F5F0CD;
  --pattern-color-2: #FADA7A;
  --pattern-color-3: #3674B5;
  --pattern-color-4: #578FCA;
}

/* Monochrome theme */
.fallback-theme--monochrome {
  --pattern-color-1: #000000;
  --pattern-color-2: #666666;
  --pattern-color-3: #CCCCCC;
  --pattern-color-4: #FFFFFF;
}

/* Dark theme */
.fallback-theme--dark {
  --pattern-color-1: #1a1a1a;
  --pattern-color-2: #333333;
  --pattern-color-3: #3674B5;
  --pattern-color-4: #578FCA;
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

.fallback-animation--hidden {
  opacity: 0;
  pointer-events: none;
}

.fallback-animation--visible {
  opacity: 1;
}

.fallback-animation--paused {
  animation-play-state: paused !important;
}

.fallback-animation--slow {
  animation-duration: calc(var(--animation-duration, 1s) * 2) !important;
}

.fallback-animation--fast {
  animation-duration: calc(var(--animation-duration, 1s) * 0.5) !important;
}

/* Transition utilities */
.fallback-transition--fade {
  transition: opacity 0.5s ease-in-out;
}

.fallback-transition--slide {
  transition: transform 0.3s ease-out;
}

.fallback-transition--scale {
  transition: transform 0.2s ease-in-out;
}

/* ==========================================================================
   Development and Debug Styles
   ========================================================================== */

.fallback-debug {
  outline: 1px dashed rgba(255, 0, 0, 0.5);
}

.fallback-debug .fallback-particle {
  outline: 1px solid rgba(0, 255, 0, 0.5);
}

.fallback-debug .fallback-gradient-animation {
  outline: 1px solid rgba(0, 0, 255, 0.5);
}

.fallback-debug .fallback-static-pattern {
  outline: 1px solid rgba(255, 255, 0, 0.5);
}